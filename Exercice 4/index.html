<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Exercice JavaScript 4</title>
</head>
<body>
    
    <div class="boxes"></div>

    <script>

        // Sélection de l'élément avec la classe "boxes"
        const boxes = document.querySelector(".boxes")

        // Fonction pour générer une couleur aléatoire en format hexadécimal
        function getRandomColor() {
            const letters = "0123456789ABCDEF"
            let color = "#"
            for (let i = 0; i < 6; i++) {
                color = color + letters[Math.floor(Math.random() * 16)]
            }
            return color
        }

        // Fonction pour gérer l'événement de pression de la touche haut
        function onPressAdd(event) {
            if (event.keyCode === 38) {
                if (boxes.childElementCount >= 225) {
            return; // Sortez de la fonction si le nombre maximal est atteint
            }
                // Création d'une nouvelle boîte
                const box = document.createElement("div")
                box.classList.add("box")
                box.style.backgroundColor = getRandomColor()
                boxes.appendChild(box)
            }
        }

        // Fonction pour gérer l'événement de pression de la touche bas
        function onPressRemove(event) {
            if (event.keyCode === 40) {
                // Sélection de la dernière boîte générée
                const lastBox = boxes.lastElementChild
                if (lastBox) {
                    // Suppression de la dernière boîte
                    boxes.removeChild(lastBox)
                }
            }
        }

        // Ajout des écouteurs d'événements pour les touches haut et bas
        document.addEventListener("keydown", onPressAdd)
        document.addEventListener("keydown", onPressRemove)

        document.addEventListener('click', function(event){
            if (event.target.classList.contains("box")) {
            // Définissez la couleur de fond en noir
            event.target.style.backgroundColor = "black";
        }
        })

        
    </script>

</body>
</html>